{"id":"Nwtz","dependencies":[{"name":"D:\\Courses\\Udemy\\JsProjects\\Moviefight\\package.json","includedInParent":true,"mtime":1608117704233},{"name":"./Utils/utils","loc":{"line":1,"column":25},"parent":"D:\\Courses\\Udemy\\JsProjects\\Moviefight\\autocomplete.js","resolved":"D:\\Courses\\Udemy\\JsProjects\\Moviefight\\Utils\\utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=require(\"./Utils/utils\");const t=({root:t,renderOptions:n,onSelectOption:s,inputValue:i,fetchMovie:r})=>{t.innerHTML='\\n        <label><b>Search</b></label>\\n        <input class=\"input\" />\\n        <div class=\"dropdown\">\\n            <div class=\"dropdown-menu\">\\n                <div class=\"dropdown-content results\">\\n                </div>\\n            </div>\\n        </div>\\n    ';const o=t.querySelector(\"input\"),a=t.querySelector(\".dropdown\"),d=t.querySelector(\".results\");o.addEventListener(\"input\",(0,e.debounce)(async e=>{const t=await r(e.target.value);if(t.length){d.innerHTML=\"\",a.classList.add(\"is-active\");for(let e of t){const t=document.createElement(\"a\");t.classList.add(\"dropdown-item\"),t.innerHTML=n(e),t.addEventListener(\"click\",()=>{a.classList.remove(\"is-active\"),o.value=i(e),s(e)}),d.appendChild(t)}}else a.classList.remove(\"is-active\")},500)),document.addEventListener(\"click\",e=>{t.contains(e.target)||a.classList.remove(\"is-active\")})};var n=t;exports.default=n;"},"sourceMaps":{"js":{"mappings":[{"source":"autocomplete.js","name":"createAutoComplete","original":{"line":62,"column":15},"generated":{"line":1,"column":0}},{"source":"autocomplete.js","name":"createAutoComplete","original":{"line":62,"column":15},"generated":{"line":1,"column":13}},{"source":"autocomplete.js","name":"createAutoComplete","original":{"line":62,"column":15},"generated":{"line":1,"column":20}},{"source":"autocomplete.js","name":"createAutoComplete","original":{"line":62,"column":15},"generated":{"line":1,"column":35}},{"source":"autocomplete.js","name":"createAutoComplete","original":{"line":62,"column":15},"generated":{"line":1,"column":43}},{"source":"autocomplete.js","name":"createAutoComplete","original":{"line":62,"column":15},"generated":{"line":1,"column":56}},{"source":"autocomplete.js","name":"createAutoComplete","original":{"line":62,"column":15},"generated":{"line":1,"column":57}},{"source":"autocomplete.js","name":"createAutoComplete","original":{"line":62,"column":15},"generated":{"line":1,"column":64}},{"source":"autocomplete.js","name":"createAutoComplete","original":{"line":62,"column":15},"generated":{"line":1,"column":68}},{"source":"autocomplete.js","name":"createAutoComplete","original":{"line":62,"column":15},"generated":{"line":1,"column":76}},{"source":"autocomplete.js","name":"createAutoComplete","original":{"line":62,"column":15},"generated":{"line":1,"column":89}},{"source":"autocomplete.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"autocomplete.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"autocomplete.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"autocomplete.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"autocomplete.js","original":{"line":2,"column":0},"generated":{"line":1,"column":122}},{"source":"autocomplete.js","name":"createAutoComplete","original":{"line":2,"column":6},"generated":{"line":1,"column":128}},{"source":"autocomplete.js","original":{"line":2,"column":27},"generated":{"line":1,"column":130}},{"source":"autocomplete.js","name":"root","original":{"line":2,"column":30},"generated":{"line":1,"column":132}},{"source":"autocomplete.js","name":"root","original":{"line":2,"column":30},"generated":{"line":1,"column":137}},{"source":"autocomplete.js","name":"renderOptions","original":{"line":2,"column":36},"generated":{"line":1,"column":139}},{"source":"autocomplete.js","name":"renderOptions","original":{"line":2,"column":36},"generated":{"line":1,"column":153}},{"source":"autocomplete.js","name":"onSelectOption","original":{"line":2,"column":51},"generated":{"line":1,"column":155}},{"source":"autocomplete.js","name":"onSelectOption","original":{"line":2,"column":51},"generated":{"line":1,"column":170}},{"source":"autocomplete.js","name":"inputValue","original":{"line":2,"column":67},"generated":{"line":1,"column":172}},{"source":"autocomplete.js","name":"inputValue","original":{"line":2,"column":67},"generated":{"line":1,"column":183}},{"source":"autocomplete.js","name":"fetchMovie","original":{"line":2,"column":79},"generated":{"line":1,"column":185}},{"source":"autocomplete.js","name":"fetchMovie","original":{"line":2,"column":79},"generated":{"line":1,"column":196}},{"source":"autocomplete.js","name":"root","original":{"line":3,"column":2},"generated":{"line":1,"column":202}},{"source":"autocomplete.js","name":"innerHTML","original":{"line":3,"column":7},"generated":{"line":1,"column":204}},{"source":"autocomplete.js","original":{"line":3,"column":20},"generated":{"line":1,"column":214}},{"source":"autocomplete.js","name":"input","original":{"line":14,"column":8},"generated":{"line":1,"column":483}},{"source":"autocomplete.js","name":"input","original":{"line":14,"column":8},"generated":{"line":1,"column":489}},{"source":"autocomplete.js","name":"root","original":{"line":14,"column":16},"generated":{"line":1,"column":491}},{"source":"autocomplete.js","name":"querySelector","original":{"line":14,"column":21},"generated":{"line":1,"column":493}},{"source":"autocomplete.js","original":{"line":14,"column":35},"generated":{"line":1,"column":507}},{"source":"autocomplete.js","name":"dropdown","original":{"line":15,"column":8},"generated":{"line":1,"column":516}},{"source":"autocomplete.js","name":"root","original":{"line":15,"column":19},"generated":{"line":1,"column":518}},{"source":"autocomplete.js","name":"querySelector","original":{"line":15,"column":24},"generated":{"line":1,"column":520}},{"source":"autocomplete.js","original":{"line":15,"column":38},"generated":{"line":1,"column":534}},{"source":"autocomplete.js","name":"resultsWrapper","original":{"line":16,"column":8},"generated":{"line":1,"column":547}},{"source":"autocomplete.js","name":"root","original":{"line":16,"column":25},"generated":{"line":1,"column":549}},{"source":"autocomplete.js","name":"querySelector","original":{"line":16,"column":30},"generated":{"line":1,"column":551}},{"source":"autocomplete.js","original":{"line":16,"column":44},"generated":{"line":1,"column":565}},{"source":"autocomplete.js","name":"input","original":{"line":47,"column":2},"generated":{"line":1,"column":577}},{"source":"autocomplete.js","name":"addEventListener","original":{"line":47,"column":8},"generated":{"line":1,"column":579}},{"source":"autocomplete.js","original":{"line":47,"column":25},"generated":{"line":1,"column":596}},{"source":"autocomplete.js","original":{"line":47,"column":34},"generated":{"line":1,"column":605}},{"source":"autocomplete.js","name":"onInput","original":{"line":47,"column":43},"generated":{"line":1,"column":607}},{"source":"autocomplete.js","name":"onInput","original":{"line":47,"column":43},"generated":{"line":1,"column":609}},{"source":"autocomplete.js","original":{"line":18,"column":18},"generated":{"line":1,"column":619}},{"source":"autocomplete.js","original":{"line":18,"column":18},"generated":{"line":1,"column":625}},{"source":"autocomplete.js","name":"items","original":{"line":19,"column":10},"generated":{"line":1,"column":629}},{"source":"autocomplete.js","name":"items","original":{"line":19,"column":10},"generated":{"line":1,"column":635}},{"source":"autocomplete.js","name":"fetchMovie","original":{"line":19,"column":24},"generated":{"line":1,"column":643}},{"source":"autocomplete.js","name":"event","original":{"line":19,"column":35},"generated":{"line":1,"column":645}},{"source":"autocomplete.js","name":"target","original":{"line":19,"column":41},"generated":{"line":1,"column":647}},{"source":"autocomplete.js","name":"value","original":{"line":19,"column":48},"generated":{"line":1,"column":654}},{"source":"autocomplete.js","original":{"line":23,"column":8},"generated":{"line":1,"column":661}},{"source":"autocomplete.js","name":"items","original":{"line":23,"column":9},"generated":{"line":1,"column":664}},{"source":"autocomplete.js","name":"length","original":{"line":23,"column":15},"generated":{"line":1,"column":666}},{"source":"autocomplete.js","original":{"line":23,"column":8},"generated":{"line":1,"column":673}},{"source":"autocomplete.js","name":"resultsWrapper","original":{"line":28,"column":4},"generated":{"line":1,"column":674}},{"source":"autocomplete.js","name":"innerHTML","original":{"line":28,"column":19},"generated":{"line":1,"column":676}},{"source":"autocomplete.js","original":{"line":28,"column":31},"generated":{"line":1,"column":686}},{"source":"autocomplete.js","name":"dropdown","original":{"line":29,"column":4},"generated":{"line":1,"column":689}},{"source":"autocomplete.js","name":"classList","original":{"line":29,"column":13},"generated":{"line":1,"column":691}},{"source":"autocomplete.js","name":"add","original":{"line":29,"column":23},"generated":{"line":1,"column":701}},{"source":"autocomplete.js","original":{"line":29,"column":27},"generated":{"line":1,"column":705}},{"source":"autocomplete.js","original":{"line":30,"column":9},"generated":{"line":1,"column":718}},{"source":"autocomplete.js","original":{"line":30,"column":9},"generated":{"line":1,"column":722}},{"source":"autocomplete.js","name":"item","original":{"line":30,"column":13},"generated":{"line":1,"column":726}},{"source":"autocomplete.js","name":"items","original":{"line":30,"column":21},"generated":{"line":1,"column":731}},{"source":"autocomplete.js","original":{"line":30,"column":28},"generated":{"line":1,"column":733}},{"source":"autocomplete.js","name":"options","original":{"line":31,"column":12},"generated":{"line":1,"column":734}},{"source":"autocomplete.js","name":"options","original":{"line":31,"column":12},"generated":{"line":1,"column":740}},{"source":"autocomplete.js","name":"document","original":{"line":31,"column":22},"generated":{"line":1,"column":742}},{"source":"autocomplete.js","name":"createElement","original":{"line":31,"column":31},"generated":{"line":1,"column":751}},{"source":"autocomplete.js","original":{"line":31,"column":45},"generated":{"line":1,"column":765}},{"source":"autocomplete.js","name":"options","original":{"line":33,"column":6},"generated":{"line":1,"column":770}},{"source":"autocomplete.js","name":"classList","original":{"line":33,"column":14},"generated":{"line":1,"column":772}},{"source":"autocomplete.js","name":"add","original":{"line":33,"column":24},"generated":{"line":1,"column":782}},{"source":"autocomplete.js","original":{"line":33,"column":28},"generated":{"line":1,"column":786}},{"source":"autocomplete.js","name":"options","original":{"line":35,"column":6},"generated":{"line":1,"column":803}},{"source":"autocomplete.js","name":"innerHTML","original":{"line":35,"column":14},"generated":{"line":1,"column":805}},{"source":"autocomplete.js","name":"renderOptions","original":{"line":35,"column":26},"generated":{"line":1,"column":815}},{"source":"autocomplete.js","name":"item","original":{"line":35,"column":40},"generated":{"line":1,"column":817}},{"source":"autocomplete.js","name":"options","original":{"line":37,"column":6},"generated":{"line":1,"column":820}},{"source":"autocomplete.js","name":"addEventListener","original":{"line":37,"column":14},"generated":{"line":1,"column":822}},{"source":"autocomplete.js","original":{"line":37,"column":31},"generated":{"line":1,"column":839}},{"source":"autocomplete.js","original":{"line":37,"column":40},"generated":{"line":1,"column":847}},{"source":"autocomplete.js","name":"dropdown","original":{"line":38,"column":8},"generated":{"line":1,"column":852}},{"source":"autocomplete.js","name":"classList","original":{"line":38,"column":17},"generated":{"line":1,"column":854}},{"source":"autocomplete.js","name":"remove","original":{"line":38,"column":27},"generated":{"line":1,"column":864}},{"source":"autocomplete.js","original":{"line":38,"column":34},"generated":{"line":1,"column":871}},{"source":"autocomplete.js","name":"input","original":{"line":39,"column":8},"generated":{"line":1,"column":884}},{"source":"autocomplete.js","name":"value","original":{"line":39,"column":14},"generated":{"line":1,"column":886}},{"source":"autocomplete.js","name":"inputValue","original":{"line":39,"column":22},"generated":{"line":1,"column":892}},{"source":"autocomplete.js","name":"item","original":{"line":39,"column":33},"generated":{"line":1,"column":894}},{"source":"autocomplete.js","name":"onSelectOption","original":{"line":40,"column":8},"generated":{"line":1,"column":897}},{"source":"autocomplete.js","name":"item","original":{"line":40,"column":23},"generated":{"line":1,"column":899}},{"source":"autocomplete.js","name":"resultsWrapper","original":{"line":43,"column":6},"generated":{"line":1,"column":904}},{"source":"autocomplete.js","name":"appendChild","original":{"line":43,"column":21},"generated":{"line":1,"column":906}},{"source":"autocomplete.js","name":"options","original":{"line":43,"column":33},"generated":{"line":1,"column":918}},{"source":"autocomplete.js","name":"dropdown","original":{"line":24,"column":6},"generated":{"line":1,"column":927}},{"source":"autocomplete.js","name":"classList","original":{"line":24,"column":15},"generated":{"line":1,"column":929}},{"source":"autocomplete.js","name":"remove","original":{"line":24,"column":25},"generated":{"line":1,"column":939}},{"source":"autocomplete.js","original":{"line":24,"column":32},"generated":{"line":1,"column":946}},{"source":"autocomplete.js","original":{"line":47,"column":52},"generated":{"line":1,"column":960}},{"source":"autocomplete.js","name":"document","original":{"line":51,"column":2},"generated":{"line":1,"column":966}},{"source":"autocomplete.js","name":"addEventListener","original":{"line":51,"column":11},"generated":{"line":1,"column":975}},{"source":"autocomplete.js","original":{"line":51,"column":28},"generated":{"line":1,"column":992}},{"source":"autocomplete.js","name":"event","original":{"line":51,"column":38},"generated":{"line":1,"column":1000}},{"source":"autocomplete.js","name":"root","original":{"line":56,"column":9},"generated":{"line":1,"column":1004}},{"source":"autocomplete.js","name":"contains","original":{"line":56,"column":14},"generated":{"line":1,"column":1006}},{"source":"autocomplete.js","name":"event","original":{"line":56,"column":23},"generated":{"line":1,"column":1015}},{"source":"autocomplete.js","name":"target","original":{"line":56,"column":29},"generated":{"line":1,"column":1017}},{"source":"autocomplete.js","name":"dropdown","original":{"line":57,"column":6},"generated":{"line":1,"column":1026}},{"source":"autocomplete.js","name":"classList","original":{"line":57,"column":15},"generated":{"line":1,"column":1028}},{"source":"autocomplete.js","name":"remove","original":{"line":57,"column":25},"generated":{"line":1,"column":1038}},{"source":"autocomplete.js","original":{"line":57,"column":32},"generated":{"line":1,"column":1045}},{"source":"autocomplete.js","name":"createAutoComplete","original":{"line":62,"column":15},"generated":{"line":1,"column":1061}},{"source":"autocomplete.js","name":"createAutoComplete","original":{"line":62,"column":15},"generated":{"line":1,"column":1065}},{"source":"autocomplete.js","name":"createAutoComplete","original":{"line":62,"column":15},"generated":{"line":1,"column":1067}},{"source":"autocomplete.js","name":"createAutoComplete","original":{"line":62,"column":15},"generated":{"line":1,"column":1069}},{"source":"autocomplete.js","name":"createAutoComplete","original":{"line":62,"column":15},"generated":{"line":1,"column":1077}},{"source":"autocomplete.js","name":"createAutoComplete","original":{"line":62,"column":15},"generated":{"line":1,"column":1085}}],"sources":{"autocomplete.js":"import { debounce } from \"./Utils/utils\";\r\nconst createAutoComplete = ({ root, renderOptions, onSelectOption, inputValue, fetchMovie }) => {\r\n  root.innerHTML = `\r\n        <label><b>Search</b></label>\r\n        <input class=\"input\" />\r\n        <div class=\"dropdown\">\r\n            <div class=\"dropdown-menu\">\r\n                <div class=\"dropdown-content results\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `;\r\n\r\n  const input = root.querySelector(\"input\");\r\n  const dropdown = root.querySelector(\".dropdown\");\r\n  const resultsWrapper = root.querySelector(\".results\");\r\n\r\n  const onInput = async (event) => {\r\n    const items = await fetchMovie(event.target.value);\r\n\r\n    //if there is no results, dont add is-acitve at all.\r\n    // and retrurn, which will exit the execution of rest of the function.\r\n    if (!items.length) {\r\n      dropdown.classList.remove(\"is-active\");\r\n      return;\r\n    }\r\n    //this will clear out the html elements below when another search is performed.\r\n    resultsWrapper.innerHTML = \"\";\r\n    dropdown.classList.add(\"is-active\");\r\n    for (let item of items) {\r\n      const options = document.createElement(\"a\");\r\n\r\n      options.classList.add(\"dropdown-item\");\r\n\r\n      options.innerHTML = renderOptions(item);\r\n\r\n      options.addEventListener(\"click\", () => {\r\n        dropdown.classList.remove(\"is-active\");\r\n        input.value = inputValue(item);\r\n        onSelectOption(item);\r\n      });\r\n\r\n      resultsWrapper.appendChild(options);\r\n    }\r\n  };\r\n\r\n  input.addEventListener(\"input\", debounce(onInput, 500));\r\n\r\n  // close drop down menu if the click is outside.\r\n\r\n  document.addEventListener(\"click\", (event) => {\r\n    //root is where the dropdwon will be rendered.\r\n    //event.target will have all the reference of the element when cliked.\r\n    //removing is-acitve will remove the element.\r\n    //console.log(event.target)\r\n    if (!root.contains(event.target)) {\r\n      dropdown.classList.remove(\"is-active\");\r\n    }\r\n  });\r\n};\r\n\r\nexport default createAutoComplete;\r\n"},"lineCount":null}},"error":null,"hash":"11dcfb16230ed1d1c8ca635813431896","cacheData":{"env":{}}}